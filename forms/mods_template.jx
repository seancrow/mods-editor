<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright 2005, 2007, 2008 University of Alberta Libraries  
    
This file is part of MODS Editor.
cla
MODS Editor is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

MODS Editor is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with MODS Editor.  If not, see <http://www.gnu.org/licenses/>.
-->
<html xmlns:ft="http://apache.org/cocoon/forms/1.0#template" xmlns:fi="http://apache.org/cocoon/forms/1.0#instance"
   xmlns:jx="http://apache.org/cocoon/templates/jx/1.0">
   <!-- Import the macros that define CForms template elements -->
   <jx:import uri="resource://org/apache/cocoon/forms/generation/jx-macros.xml"></jx:import>
   <!-- pipe divider for placement between form elements -->
   <jx:set var="divider" value=" | "></jx:set>
   <jx:macro name="countdiv">
      <jx:parameter name="name"></jx:parameter>
      <div id="${name}_count" class="repeater-count">
         <jx:set var="c" value="${form.getChild(name).getSize()}"></jx:set>
         <jx:if test="${c &gt; 0}">
            <jx:out value="${c}"></jx:out>
         </jx:if>
      </div>
   </jx:macro>
   <head>
      <fi:init>
         <!-- change isDebug to true to enable Dojo debugging -->
         <script>djConfig = { bindEncoding: "utf-8", isDebug: false };</script>
      </fi:init>
      <link href="../mods.css" type="text/css" rel="stylesheet" />
      <!--		<link href="${cocoon.parameters.base}/mods.css" type="text/css" rel="stylesheet"/> -->
      <title>MODS GUI</title>
      <script type="text/javascript">
      function upCount(id) {
		 var countdiv = document.getElementById(id);
		countdiv.innerHTML = countdiv.innerHTML * 1 + 1;
	}
      function downCount(id) {
		 var countdiv = document.getElementById(id);
		  var c = countdiv.innerHTML * 1;
		  if (c &gt; 1)
				countdiv.innerHTML = countdiv.innerHTML * 1 - 1;
			else
			  countdiv.innerHTML = "";
	}
        </script>
   </head>
   <body>
      <ft:form-template action="../#{$cocoon/continuation/id}.continue" method="POST" name="mainform" ajax="true">
         <!-- *************************************************************
				Classes
			***************************************************************** -->
         <ft:class id="common-subject-date-elements-class">
            <ft:widget id="value">
               <fi:styling size="15"></fi:styling>
            </ft:widget>
            <ft:widget id="encoding"></ft:widget>
            <ft:widget id="point"></ft:widget>
            <ft:widget id="keydate"></ft:widget>
         </ft:class>
         <ft:class id="common-date-elements-class">
            <ft:widget id="qualifier"></ft:widget>
         </ft:class>
         <ft:class id="common-language-elements-class">
            <div class="common-language-elements">
               <ft:widget-label id="lang"></ft:widget-label>
               <ft:widget id="lang">
                  <fi:styling size="3"></fi:styling>
               </ft:widget>
               <ft:widget-label id="xml-lang"></ft:widget-label>
               <ft:widget id="xml-lang">
                  <fi:styling size="3"></fi:styling>
               </ft:widget>
               <ft:widget-label id="script"></ft:widget-label>
               <ft:widget id="script">
                  <fi:styling size="10"></fi:styling>
               </ft:widget>
               <ft:widget-label id="transliteration"></ft:widget-label>
               <ft:widget id="transliteration">
                  <fi:styling size="10"></fi:styling>
               </ft:widget>
            </div>
         </ft:class>
         <ft:class id="common-linking-elements-class">
            <div class="common-linking-elements">
               <ft:widget-label id="modsID"></ft:widget-label>
               <ft:widget id="modsID">
                  <fi:styling size="15"></fi:styling>
               </ft:widget>
               <jx:out value="${divider}"></jx:out>
               <ft:widget-label id="xlink"></ft:widget-label>
               <ft:widget id="xlink">
                  <fi:styling size="50"></fi:styling>
               </ft:widget>
            </div>
         </ft:class>
         <ft:class id="common-controls-class">
            <div class="common-controls">
               <ft:widget id="deleteWidget"></ft:widget>
               <!-- Don't display the "move up" button on the first row or the "move down" button on the last row -->
               <jx:choose>
                  <jx:when test="${repeater.getSize() == 1}"></jx:when>
                  <jx:when test="${repeaterLoop.first}">
                     <ft:widget id="moveDown"></ft:widget>
                  </jx:when>
                  <jx:when test="${repeaterLoop.last}">
                     <ft:widget id="moveUp"></ft:widget>
                  </jx:when>
                  <jx:otherwise>
                     <ft:widget id="moveDown"></ft:widget>
                     <ft:widget id="moveUp"></ft:widget>
                  </jx:otherwise>
               </jx:choose>
               <ft:widget id="insertWidget"></ft:widget>
            </div>
            <div class="clear"></div>
         </ft:class>
         <ft:class id="common-textfield-elements-class">
            <span class="setwidth">
               <ft:widget-label id="type"></ft:widget-label>
            </span>
            <ft:widget id="type">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <ft:widget-label id="displayLabel"></ft:widget-label>
            <ft:widget id="displayLabel">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <br />
            <ft:widget-label id="value"></ft:widget-label>
            <br />
            <ft:widget id="value">
               <fi:styling type="textarea" rows="4" cols="60"></fi:styling>
            </ft:widget>
            <br />
            <ft:widget-label id="xlink"></ft:widget-label>
            <ft:widget id="xlink">
               <fi:styling size="50"></fi:styling>
            </ft:widget>
         </ft:class>
         <ft:class id="common-authorityURIAndValueURI-elements-class">
            <ft:widget-label id="authorityURI"></ft:widget-label>
            <ft:widget id="authorityURI">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <ft:widget-label id="valueURI"></ft:widget-label>
            <ft:widget id="valueURI">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
         </ft:class>
         <ft:class id="common-authority-elements-class">
            <div class="common-authority-elements">
               <ft:widget-label id="authority"></ft:widget-label>
               <ft:widget id="authority">
                  
               </ft:widget>
               <ft:new id="common-authorityURIAndValueURI-elements-class"></ft:new>
            </div>
         </ft:class>
         <ft:class id="common-placeAuthority-elements-class">
            <ft:new id="common-authority-elements-class"></ft:new>
         </ft:class>
         <ft:class id="common-languageAuthority-elements-class">
            <ft:new id="common-authority-elements-class"></ft:new>
         </ft:class>
         <ft:class id="common-termType-elements-class">
            <ft:widget-label id="termType"></ft:widget-label>
            <ft:widget id="termType"/>
         </ft:class>



         <ft:class id="subject-widgets-class">
            <ft:repeater id="subject-widgets">
               <jx:if test="${repeater.getSize() &gt; 0}">
                  <div class="repeater">
                     <ft:repeater-rows>
                        <ft:new id="subject-widget-row-class"></ft:new>
                     </ft:repeater-rows>
                  </div>
               </jx:if>
            </ft:repeater>
            <!--				<jx:if test="${repeater.getSize() == 0}">
					<ft:widget id="add-to-subjects"/>
				</jx:if>-->
            <ft:widget id="add-to-subject-widgets"></ft:widget>
         </ft:class>
         <ft:class id="subject-widget-row-class">
            <!-- note: when the user changes the subject type, only the part within the fd:group element gets rewritten
					so any formatting that depends on the subject type must be wrapped in there -->
            <div class="row subrepeater">
               <h6>Subject widgets ${repeaterLoop.index + 1}</h6>
               <ft:widget-label id="type"></ft:widget-label>: <ft:widget id="type">
                  <fi:styling list-type="dropdown" submit-on-change="true"></fi:styling>
               </ft:widget>
               <ft:union id="union">
                  <ft:case id="">
                     <div class="subject-type">Choose a type.</div>
                  </ft:case>
                  <ft:case id="mods_topic">
                     <ft:group id="mods_topic">
                        <div class="subject-type subject-type-topic">
                           <ft:widget id="value">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_geographic">
                     <ft:group id="mods_geographic">
                        <div class="subject-type subject-type-geographic">
                           <ft:widget id="value">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_temporal">
                     <ft:group id="mods_temporal">
                        <div class="subject-type subject-type-temporal">
                           <ft:new id="common-subject-date-elements-class"></ft:new>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_titleInfo">
                     <ft:group id="mods_titleInfo">
                        <div class="subject-type subject-type-titleInfo">
                           <ft:new id="single-titleInfo-class"></ft:new>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_name">
                     <ft:group id="mods_name">
                        <div class="subject-type subject-type-name">
                           <ft:new id="single-name-class"></ft:new>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_hierarchicalGeographic">
                     <ft:group id="mods_hierarchicalGeographic">
                        <div class="subject-type subject-type-hierarchicalGeographic">
                           <ft:widget-label id="continent"></ft:widget-label>
                           <ft:widget id="continent">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="country"></ft:widget-label>
                           <ft:widget id="country">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="province"></ft:widget-label>
                           <ft:widget id="province">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="region"></ft:widget-label>
                           <ft:widget id="region">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="state"></ft:widget-label>
                           <ft:widget id="state">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="territory"></ft:widget-label>
                           <ft:widget id="territory">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="county"></ft:widget-label>
                           <ft:widget id="county">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="city"></ft:widget-label>
                           <ft:widget id="city">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="island"></ft:widget-label>
                           <ft:widget id="island">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="area"></ft:widget-label>
                           <ft:widget id="area">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_cartographics">
                     <ft:group id="mods_cartographics">
                        <div class="subject-type subject-type-cartographics">
                           <ft:widget-label id="coordinates"></ft:widget-label>
                           <ft:widget id="coordinates">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="scale"></ft:widget-label>
                           <ft:widget id="scale">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="projection"></ft:widget-label>
                           <ft:widget id="projection">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_geographicCode">
                     <ft:group id="mods_geographicCode">
                        <div class="subject-type subject-type-geographicCode">
                           <ft:widget id="value">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <br />
                           <ft:widget-label id="authority"></ft:widget-label>
                           <ft:widget id="authority"></ft:widget>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
                  <ft:case id="mods_occupation">
                     <ft:group id="mods_occupation">
                        <div class="subject-type subject-type-occupation">
                           <ft:widget id="value">
                              <fi:styling size="60"></fi:styling>
                           </ft:widget>
                           <ft:new id="common-controls-class"></ft:new>
                        </div>
                     </ft:group>
                  </ft:case>
               </ft:union>
            </div>
         </ft:class>
         <ft:class id="single-titleInfo-class">
            <span class="setwidth">
               <ft:widget-label id="type"></ft:widget-label>
            </span>
            <ft:widget id="type"></ft:widget>
            <br />
            <ft:group id="nonSort-group">
               <span class="setwidth">
                  <ft:widget-label id="nonSort"></ft:widget-label>
               </span>
               <ft:widget id="nonSort">
                  <fi:styling size="10"></fi:styling>
               </ft:widget>
               <span class="hint">Use "+" to represent a space (otherwise final spaces will be trimmed)</span>
               <ft:new id="common-language-elements-class"></ft:new>
            </ft:group>
            <br />
            <ft:group id="title-group">
               <span class="setwidth">
                  <ft:widget-label id="title"></ft:widget-label>
               </span>
               <ft:widget id="title">
                  <fi:styling size="80"></fi:styling>
               </ft:widget>
               <ft:new id="common-language-elements-class"></ft:new>
            </ft:group>
            <br />
            <ft:group id="subTitle-group">
               <span class="setwidth">
                  <ft:widget-label id="subTitle"></ft:widget-label>
               </span>
               <ft:widget id="subTitle">
                  <fi:styling size="80"></fi:styling>
               </ft:widget>
               <ft:new id="common-language-elements-class"></ft:new>
            </ft:group>
            <br />

            <ft:repeater id="partNumbers">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../partNumbers"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel partNumber">
                              <h5>
                                 <ft:widget-label id="../../partNumbers"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth">
                                 <ft:widget-label id="partNumber"></ft:widget-label>
                              </span>
                              <ft:widget id="partNumber">
                                 <fi:styling size="80"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-partNumbers"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>

            <ft:repeater id="partNames">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../partNames"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel partName">
                              <h5>
                                 <ft:widget-label id="../../partNames"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth">
                                 <ft:widget-label id="partName"></ft:widget-label>
                              </span>
                              <ft:widget id="partName">
                                 <fi:styling size="80"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-partNames"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>

            <div class="clear"></div>
            <ft:new id="common-authority-elements-class"></ft:new>

            <span>
               <ft:widget-label id="displayLabel"></ft:widget-label>
            </span>
            <ft:widget id="displayLabel">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <span>
               <ft:widget-label id="supplied"></ft:widget-label>
            </span>
            <ft:widget id="supplied"></ft:widget>
            <span>
               <ft:widget-label id="usage"></ft:widget-label>
            </span>
            <ft:widget id="usage"></ft:widget>
            <br />
            <span>
               <ft:widget-label id="altRepGroup"></ft:widget-label>
            </span>
            <ft:widget id="altRepGroup">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <span>
               <ft:widget-label id="nameTitleGroup"></ft:widget-label>
            </span>
            <ft:widget id="nameTitleGroup">
               <fi:styling size="20"></fi:styling>
            </ft:widget>



            <ft:new id="common-language-elements-class"></ft:new>
            <ft:new id="common-linking-elements-class"></ft:new>
         </ft:class>
         <ft:class id="titleInfo-class">
            <ft:repeater id="titleInfos">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../titleInfos"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel titleInfo">
                              <h5>
                                 <ft:widget-label id="../../titleInfos"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:new id="single-titleInfo-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-titleInfos"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="single-name-class">
            <span class="setwidth">
               <ft:widget-label id="type"></ft:widget-label>
            </span>
            <ft:widget id="type"></ft:widget>
            <br />

            <ft:repeater id="nameParts">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../nameParts"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel namePart">
                              <h5>
                                 <ft:widget-label id="../../nameParts"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget id="type"></ft:widget>
                              <ft:widget id="value">
                                 <fi:styling size="50"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-nameParts"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>


            <!-- roles repeater -->
            <ft:repeater id="roles">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../roles"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel namePart">
                              <h5>
                                 <ft:widget-label id="../../roles"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <!-- roleTerms repeater -->
                              <div class="block">
                                 <ft:repeater id="roleTerms">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <jx:if test="${repeater.getSize() &gt; 0}"> <ft:repeater-rows>
                                             <div class="row subsubrepeater name-role-roleTerm">
                                                <h6>
                                                   <ft:widget-label id="../../roleTerms"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h6>
                                                <span class="setwidth">
                                                   <ft:widget-label id="value"></ft:widget-label>
                                                </span>
                                                <ft:widget id="value">
                                                   <fi:styling size="40"></fi:styling>
                                                </ft:widget>
                                                <br />
                                                <ft:new id="common-termType-elements-class"/>
                                                <ft:new id="common-authority-elements-class"/>
                                                <ft:new id="common-language-elements-class"/>
                                                <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </jx:if>
                                    </div>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../roles_add-to-roleTerms"></ft:widget>
                                    </jx:if>
                                 </ft:repeater>
                                 <ft:new id="common-controls-class"></ft:new>
                              </div>
                              <!-- end of roleTerms repeater -->
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-roles"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
            <!-- end of roles repeater -->




            <ft:repeater id="descriptions">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../descriptions"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel namePart">
                              <h5>
                                 <ft:widget-label id="../../descriptions"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget id="value">
                                 <fi:styling type="textarea" rows="4" cols="60"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-descriptions"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>

            <ft:repeater id="displayForms">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../displayForms"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel displayForms">
                              <h5>
                                 <ft:widget-label id="../../displayForms"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget id="value">
                                 <fi:styling size="50"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-displayForms"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
            <ft:repeater id="affiliations">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../affiliations"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel namePart">
                              <h5>
                                 <ft:widget-label id="../../affiliations"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget id="value">
                                 <fi:styling size="50"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-affiliations"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
            <div class="clear"></div>

            <span>
               <ft:widget-label id="displayLabel"></ft:widget-label>
            </span>
            <ft:widget id="displayLabel">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <span>
               <ft:widget-label id="usage"></ft:widget-label>
            </span>
            <ft:widget id="usage"></ft:widget>
            <span>
               <ft:widget-label id="altRepGroup"></ft:widget-label>
            </span>
            <ft:widget id="altRepGroup">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <br />
            <span>
               <ft:widget-label id="nameTitleGroup"></ft:widget-label>
            </span>
            <ft:widget id="nameTitleGroup">
               <fi:styling size="20"></fi:styling>
            </ft:widget>
            <ft:new id="common-authority-elements-class"></ft:new>
            <ft:new id="common-language-elements-class"></ft:new>
            <ft:new id="common-linking-elements-class"></ft:new>
         </ft:class>
         <ft:class id="name-class">
            <ft:repeater id="names">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../names"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel name">
                              <h5>
                                 <ft:widget-label id="../../names"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:new id="single-name-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-names"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="typeOfResource-class">
            <ft:repeater id="typeOfResources">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../typeOfResources"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel typeOfResource">
                              <h5>
                                 <ft:widget-label id="../../typeOfResources"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget-label id="type"></ft:widget-label>
                              <ft:widget id="type"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="collection"></ft:widget-label>
                              <ft:widget id="collection">
                                 <fi:styling type="checkbox"></fi:styling>
                              </ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="manuscript"></ft:widget-label>
                              <ft:widget id="manuscript">
                                 <fi:styling type="checkbox"></fi:styling>
                              </ft:widget>
                              <br />
                              <span>
                                 <ft:widget-label id="displayLabel"></ft:widget-label>
                              </span>
                              <ft:widget id="displayLabel">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <span>
                                 <ft:widget-label id="usage"></ft:widget-label>
                              </span>
                              <ft:widget id="usage"></ft:widget>
                              <span>
                                 <ft:widget-label id="altRepGroup"></ft:widget-label>
                              </span>
                              <ft:widget id="altRepGroup">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-typeOfResources"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="genre-class">
            <ft:repeater id="genres">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../genres"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel genre">
                              <h5>
                                 <ft:widget-label id="../../genres"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget-label id="genre"></ft:widget-label>
                              <ft:widget id="genre">
                                 <fi:styling size="80"></fi:styling>
                              </ft:widget>
                              <br />
                              <span>
                                 <ft:widget-label id="displayLabel"></ft:widget-label>
                              </span>
                              <ft:widget id="displayLabel">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <span>
                                 <ft:widget-label id="usage"></ft:widget-label>
                              </span>
                              <ft:widget id="usage"></ft:widget>
                              <span>
                                 <ft:widget-label id="altRepGroup"></ft:widget-label>
                              </span>
                              <ft:widget id="altRepGroup">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-authority-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-genres"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="originInfo-class">
            <ft:repeater id="originInfos">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../originInfos"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel originInfo">
                              <h5>
                                 <ft:widget-label id="../../originInfos"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <!-- places repeater -->
                              <ft:repeater id="places">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../places"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel place">
                                                <h5>
                                                   <ft:widget-label id="../../places"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>                                                   <span class="setwidth">
                                                      <ft:widget-label id="supplied"></ft:widget-label>
                                                   </span>
                                                   <ft:widget id="supplied"></ft:widget>
                                                   <!-- placeTerms repeater -->
                                                   <div class="block">
                                                      <ft:repeater id="placeTerms">
                                                         <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                            <jx:if test="${repeater.getSize() &gt; 0}">
                                                               <ft:repeater-rows>
                                                                  <div class="row subrepeater placeTerm">
                                                                     <h6>
                                                                        <ft:widget-label id="../../placeTerms"></ft:widget-label>
                                                                        <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                                     </h6>
                                                                     <span class="setwidth">
                                                                        <ft:widget-label id="pubplace"></ft:widget-label>
                                                                     </span>
                                                                     <ft:widget id="pubplace">
                                                                        <fi:styling size="40"></fi:styling>
                                                                     </ft:widget>
                                                                     <br />
                                                                     <ft:new id="common-termType-elements-class"></ft:new>
                                                                     <ft:new id="common-placeAuthority-elements-class"></ft:new>
                                                                     <ft:new id="common-language-elements-class"></ft:new>
                                                                     <ft:new id="common-controls-class"></ft:new>
                                                                  </div>
                                                               </ft:repeater-rows>
                                                            </jx:if>
                                                         </div>
                                                         <jx:if test="${repeater.getSize() == 0}">
                                                            <ft:widget id="../add-to-placeTerms"></ft:widget>
                                                         </jx:if>
                                                      </ft:repeater>
                                                   </div>
                                                   <!-- end of placeTerms repeater -->
                                                   <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-places"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <!-- end of places repeater -->
                              <ft:repeater id="publishers">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../publishers"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel publisher">
                                                <h5>
                                                   <ft:widget-label id="../../publishers"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>                                            <span class="setwidth">
                                                <ft:widget-label id="supplied"></ft:widget-label>
                                             </span>
                                             <ft:widget id="supplied"> </ft:widget>
                                             <ft:widget id="publisher">
                                                <fi:styling size="40"></fi:styling>
                                             </ft:widget>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-publishers"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              
                              
                              <ft:repeater id="dates">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../dates"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel date">
                                                <h5>
                                                   <ft:widget-label id="../../dates"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>                                             <ft:widget-label id="dates_temp_type"></ft:widget-label>
                                             <ft:widget id="dates_temp_type"></ft:widget>
                                             <ft:new id="common-subject-date-elements-class"></ft:new>
                                             <ft:new id="common-date-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-dates"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              
                              <ft:repeater id="editions">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../editions"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel edition">
                                                <h5>
                                                   <ft:widget-label id="../../editions"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <span class="setwidth">
                                                   <ft:widget-label id="supplied"></ft:widget-label>
                                                </span>
                                                <ft:widget id="supplied"> </ft:widget>
                                                <ft:widget id="edition">
                                                   <fi:styling size="40"></fi:styling>
                                                </ft:widget>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                                <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-editions"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              
                              <ft:repeater id="frequencys">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../frequencys"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel frequency">
                                                <h5>
                                                   <ft:widget-label id="../../frequencys"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>                                          
                                                <ft:widget id="value">
                                                <fi:styling size="40"></fi:styling>
                                             </ft:widget>
                                             <ft:new id="common-authority-elements-class"></ft:new>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-frequencys"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <div class="clear"/>
                              <span>
                                 <ft:widget-label id="issuance"></ft:widget-label>
                              </span>
                              <ft:widget id="issuance"></ft:widget>
                              <br/>
                              <span>
                                 <ft:widget-label id="displayLabel"></ft:widget-label>
                              </span>
                              <ft:widget id="displayLabel">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <span>
                                 <ft:widget-label id="altRepGroup"></ft:widget-label>
                              </span>
                              <ft:widget id="altRepGroup">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <br/>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-originInfos"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="language-class">
            <ft:repeater id="languages">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../languages"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel language">
                              <h5>
                                 <ft:widget-label id="../../languages"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth">
                                 <ft:widget-label id="objectPart"></ft:widget-label>
                              </span>
                              <ft:widget id="objectPart">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <br/>
                              <span>
                                 <ft:widget-label id="usage"></ft:widget-label>
                              </span>
                              <ft:widget id="usage"></ft:widget>
                              <span>
                                 <ft:widget-label id="displayLabel"></ft:widget-label>
                              </span>
                              <ft:widget id="displayLabel">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <span>
                                 <ft:widget-label id="altRepGroup"></ft:widget-label>
                              </span>
                              <ft:widget id="altRepGroup">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <div class="clear"/>
                              
                              <!-- languageTerms repeater -->
                              <ft:repeater id="languageTerms">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../languageTerms"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel languageTerm">
                                                <h5>
                                                   <ft:widget-label id="../../languageTerms"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <span class="setwidth">
                                                <ft:widget-label id="languageTerms_language"></ft:widget-label>
                                             </span>
                                             <ft:widget id="languageTerms_language">
                                                <fi:styling size="40"></fi:styling>
                                             </ft:widget>
                                             <br />
                                             <ft:widget-label id="languageTerms_type"></ft:widget-label>
                                             <ft:widget id="languageTerms_type"></ft:widget>
                                             <jx:out value="${divider}"></jx:out>
                                             <ft:widget-label id="languageTerms_authority"></ft:widget-label>
                                             <ft:widget id="languageTerms_authority"></ft:widget>
                                             <ft:new id="common-termType-elements-class"></ft:new>
                                             <ft:new id="common-languageAuthority-elements-class"></ft:new>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-languageTerms"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <!-- end of languageTerms repeater -->
                              <!-- scriptTerms repeater -->
                              <ft:repeater id="scriptTerms">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../scriptTerms"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel scriptTerm">
                                                <h5>
                                                   <ft:widget-label id="../../scriptTerms"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <span class="setwidth">
                                                <ft:widget-label id="scriptTerms_script"></ft:widget-label>
                                             </span>
                                             <ft:widget id="scriptTerms_script">
                                                <fi:styling size="40"></fi:styling>
                                             </ft:widget>
                                             <br />
                                             <ft:widget-label id="scriptTerms_type"></ft:widget-label>
                                             <ft:widget id="scriptTerms_type"></ft:widget>
                                             <jx:out value="${divider}"></jx:out>
                                             <ft:widget-label id="scriptTerms_authority"></ft:widget-label>
                                             <ft:widget id="scriptTerms_authority"></ft:widget>
                                             <ft:new id="common-termType-elements-class"></ft:new>
                                             <ft:new id="common-Authority-elements-class"></ft:new>
                                             <ft:new id="common-script-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-scriptTerms"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <!-- end of scriptTerms repeater -->
                              <div class="clear"/>
                              
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-languages"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="physicalDescription-class">
            <ft:repeater id="physicalDescriptions">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../physicalDescriptions"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel physicalDescription">
                              <h5>
                                 <ft:widget-label id="../../physicalDescriptions"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span>
                                 <ft:widget-label id="displayLabel"></ft:widget-label>
                              </span>
                              <ft:widget id="displayLabel">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <span>
                                 <ft:widget-label id="altRepGroup"></ft:widget-label>
                              </span>
                              <ft:widget id="altRepGroup">
                                 <fi:styling size="20"></fi:styling>
                              </ft:widget>
                              <br />
                              <span class="setwidth-wide">
                                 <ft:widget-label id="reformattingQuality"></ft:widget-label>
                              </span>
                              <ft:widget id="reformattingQuality"></ft:widget>
                              <br />
                              <span class="setwidth-wide"><ft:widget-label id="digitalOrigin"></ft:widget-label></span>
                              <ft:widget id="digitalOrigin"></ft:widget>
                              <br/>
                              <ft:repeater id="forms">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../forms"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel form">
                                                <h5>
                                                   <ft:widget-label id="../../forms"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <ft:widget id="value">
                                                   <fi:styling size="40"></fi:styling>
                                                </ft:widget>
                                                <span>
                                                   <ft:widget-label id="type"></ft:widget-label>
                                                </span>
                                                <ft:widget id="type">
                                                   <fi:styling size="40"></fi:styling>
                                                </ft:widget>
                                                <ft:new id="common-authority-elements-class"></ft:new>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-forms"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <ft:repeater id="internetMediaTypes">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../internetMediaTypes"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel internetMediaType">
                                                <h5>
                                                   <ft:widget-label id="../../internetMediaTypes"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <span class="setwidth-wide">
                                                   <ft:widget-label id="internetMediaType"></ft:widget-label>
                                                </span>
                                                <ft:widget id="internetMediaType">
                                                   <fi:styling size="40"></fi:styling>
                                                </ft:widget>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-internetMediaTypes"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <ft:repeater id="extents">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../extents"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel extent">
                                                <h5>
                                                   <ft:widget-label id="../../extents"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <span class="setwidth-wide">
                                                   <ft:widget-label id="extent"></ft:widget-label>
                                                </span>
                                                <ft:widget id="extent">
                                                   <fi:styling size="40"></fi:styling>
                                                </ft:widget>
                                                <span class="setwidth-wide">
                                                   <ft:widget-label id="supplied"></ft:widget-label>
                                                </span>
                                                <ft:widget id="supplied"> </ft:widget>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-extents"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <!-- notes repeater -->
                              <ft:repeater id="notes">
                                 <div class="block empty-block-${repeater.getSize() == 0}">
                                    <h4>
                                       <ft:widget-label id="../notes"></ft:widget-label>
                                    </h4>
                                    <jx:if test="${repeater.getSize() &gt; 0}">
                                       <div class="repeater">
                                          <ft:repeater-rows>
                                             <div class="row toplevel note">
                                                <h5>
                                                   <ft:widget-label id="../../notes"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h5>
                                                <span class="setwidth"><ft:widget-label id="modsID"></ft:widget-label></span>
                                                <ft:widget id="modsID"><fi:styling size="40"></fi:styling></ft:widget>
                                                <br/>
                                                <ft:new id="common-textfield-elements-class"></ft:new>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                                <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </jx:if>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-notes"></ft:widget>
                                    </jx:if>
                                 </div>
                              </ft:repeater>
                              <!-- end of notes repeater -->
                              <div class="clear"/>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-physicalDescriptions"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="abstract-class">
            <ft:repeater id="abstracts">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../abstracts"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel abstract">
                              <h5>
                                 <ft:widget-label id="../../abstracts"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth-wide"><ft:widget-label id="shareable"></ft:widget-label></span>
                              <ft:widget id="shareable"></ft:widget>
                              <span><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <br/>
                              <ft:new id="common-textfield-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-abstracts"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- ************************************************
			   mods:tableOfContents
		    ***************************************************-->
         <ft:class id="tableOfContents-class">
            <ft:repeater id="tableOfContentss">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../tableOfContentss"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel tableOfContents">
                              <h5>
                                 <ft:widget-label id="../../tableOfContentss"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth-wide"><ft:widget-label id="shareable"></ft:widget-label></span>
                              <ft:widget id="shareable"></ft:widget>
                              <span><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <br/>
                              <ft:new id="common-textfield-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-tableOfContentss"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- ************************************************
			   mods:targetAudience
		    ***************************************************-->
         <ft:class id="targetAudience-class">
            <ft:repeater id="targetAudiences">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../targetAudiences"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel targetAudience">
                              <h5>
                                 <ft:widget-label id="../../targetAudiences"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget-label id="value"></ft:widget-label>
                              <ft:widget id="value">
                                 <fi:styling size="40"></fi:styling>
                              </ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="displayLabel"></ft:widget-label></span>
                              <ft:widget id="displayLabel"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <ft:new id="common-authority-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-targetAudiences"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- ************************************************
			   mods:note
		    ***************************************************-->
         <ft:class id="note-class">
            <ft:repeater id="notes">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../notes"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel note">
                              <h5>
                                 <ft:widget-label id="../../notes"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth-wide"><ft:widget-label id="modsID"></ft:widget-label></span>
                              <ft:widget id="modsID"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <ft:new id="common-textfield-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-notes"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- ************************************************
			   mods:subject
		    ***************************************************-->
         <ft:class id="subject-class">
            <ft:repeater id="subjects">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../subjects"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel subject">
                              <h5>
                                 <ft:widget-label id="../../subjects"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth-wide"><ft:widget-label id="displayLabel"></ft:widget-label></span>
                              <ft:widget id="displayLabel"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="usage"></ft:widget-label></span>
                              <ft:widget id="usage"/>
                              <br />
                              <div class="block">
                                 <ft:new id="subject-widgets-class"></ft:new>
                              </div>
                              <ft:new id="common-authority-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-linking-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-subjects"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- **********************************************************************
   			classification
	     	***************************************************************************-->
         <ft:class id="classification-class">
            <ft:repeater id="classifications">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../classifications"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel classification">
                              <h5>
                                 <ft:widget-label id="../../classifications"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth-wide"><ft:widget-label id="displayLabel"></ft:widget-label></span>
                              <ft:widget id="displayLabel"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="usage"></ft:widget-label></span>
                              <ft:widget id="usage"/>
                              <br />
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="edition"></ft:widget-label>
                              <ft:widget id="edition"></ft:widget>
                              <br />
                              <ft:widget-label id="value"></ft:widget-label>
                              <ft:widget id="value">
                                 <fi:styling size="80"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-authority-elements-class"></ft:new>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-classifications"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- **********************************************************************
			   identifier
   		***************************************************************************-->
         <!-- note: id="identifiers" doesn't work, seems to be reserved word -->
         <ft:class id="xidentifier-class">
            <ft:repeater id="xidentifiers">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../xidentifiers"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel identifier">
                              <h5>
                                 <ft:widget-label id="../../xidentifiers"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget-label id="type"></ft:widget-label>
                              <ft:widget id="type"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="displayLabel"></ft:widget-label>
                              <ft:widget id="displayLabel"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <span class="setwidth-wide"><ft:widget-label id="invalid"></ft:widget-label></span>
                              <ft:widget id="invalid"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <br />
                              <ft:widget-label id="value"></ft:widget-label>
                              <ft:widget id="value">
                                 <fi:styling size="80"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-xidentifiers"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="location-class">
            <ft:repeater id="locations">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../locations"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel location">
                              <h5>
                                 <ft:widget-label id="../../locations"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <span class="setwidth-wide"><ft:widget-label id="displayLabel"></ft:widget-label></span>
                              <ft:widget id="displayLabel"><fi:styling size="40"></fi:styling></ft:widget>
                              <span class="setwidth-wide"><ft:widget-label id="altRepGroup"></ft:widget-label></span>
                              <ft:widget id="altRepGroup"><fi:styling size="40"></fi:styling></ft:widget>
                              <!-- physicalLocation repeater -->
                              <div class="block">
                                 <ft:repeater id="physicalLocations">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater physicalLocation">
                                             <h6>
                                                <ft:widget-label id="../../physicalLocations"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:widget-label id="physicalLocation"></ft:widget-label>
                                             <ft:widget id="physicalLocation">
                                                <fi:styling type="textarea" rows="3" cols="80"></fi:styling>
                                             </ft:widget>
                                             <br />
                                             <ft:widget-label id="physicalLocation-type"></ft:widget-label>
                                             <ft:widget id="physicalLocation-type"></ft:widget>
                                             <jx:out value="${divider}"></jx:out>
                                             <ft:widget-label id="physicalLocation-displayLabel"></ft:widget-label>
                                             <ft:widget id="physicalLocation-displayLabel"></ft:widget>
                                             <ft:new id="common-authority-elements-class"></ft:new>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                 </ft:repeater>
                                 <jx:if test="${repeater.getSize() == 0}">
                                    <ft:widget id="add-to-physicalLocations"></ft:widget>
                                 </jx:if>
                                 <ft:new id="common-controls-class"></ft:new>
                              </div>
                              <!-- shelfLocation repeater -->
                              <div class="block">
                                 <ft:repeater id="shelfLocators">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater shelfLocator">
                                             <h6>
                                                <ft:widget-label id="../../shelfLocators"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:widget-label id="shelfLocator"></ft:widget-label>
                                             <ft:widget id="shelfLocator">
                                                <fi:styling type="textarea" rows="3" cols="80"></fi:styling>
                                             </ft:widget>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                 </ft:repeater>
                                 <jx:if test="${repeater.getSize() == 0}">
                                    <ft:widget id="add-to-shelfLocators"></ft:widget>
                                 </jx:if>
                                 <ft:new id="common-controls-class"></ft:new>
                              </div>
                              <!-- urls repeater -->
                              <div class="block">
                                 <ft:repeater id="urls">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater url">
                                             <h6>
                                                <ft:widget-label id="../../urls"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:widget-label id="url"></ft:widget-label>
                                             <ft:widget id="url">
                                                <fi:styling size="80"></fi:styling>
                                             </ft:widget>
                                             <br />
                                             <ft:widget-label id="access"></ft:widget-label>
                                             <ft:widget id="access"></ft:widget>
                                             <jx:out value="${divider}"></jx:out>
                                             <ft:widget-label id="usage"></ft:widget-label>
                                             <ft:widget id="usage"></ft:widget>
                                             <br />
                                             <ft:widget-label id="url-note"></ft:widget-label>
                                             <ft:widget id="note">
                                                <fi:styling size="80"></fi:styling>
                                             </ft:widget>
                                             <br />
                                             <ft:widget-label id="dateLastAccessed"></ft:widget-label>
                                             <ft:widget id="dateLastAccessed"></ft:widget>
                                             <jx:out value="${divider}"></jx:out>
                                             <ft:widget-label id="url-displayLabel"></ft:widget-label>
                                             <ft:widget id="url-displayLabel"></ft:widget>
                                             <ft:new id="common-controls-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                 </ft:repeater>
                                 <jx:if test="${repeater.getSize() == 0}">
                                    <ft:widget id="add-to-urls"></ft:widget>
                                 </jx:if>
                                 <ft:widget id="fullsize">
                                    <fi:styling type="imglink"></fi:styling>
                                 </ft:widget>
                                 <ft:widget id="thumbnail">
                                    <fi:styling type="img"></fi:styling>
                                 </ft:widget>
                              </div>
                           </div>
                           <!-- holdingSimple -->
                           <div class="block">
                              <ft:repeater id="holdingSimples">
                                 <div class="block empty-repeater-${repeater.getSize() == 0}">
                                    <ft:repeater-rows>
                                       <div class="row subrepeater holdingSimples">
                                          <h6>
                                             <ft:widget-label id="../../holdingSimples"></ft:widget-label>
                                             <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                          </h6>
                                          <div class="block">
                                             <ft:repeater id="copyInformations">
                                                <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                   <ft:repeater-rows>
                                                      <div class="row subrepeater copyInformations">
                                                         <h6>
                                                            <ft:widget-label id="../../copyInformations"></ft:widget-label>
                                                            <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                         </h6>
                                                         <ft:context id="form">
                                                            <ft:widget-label id="form"></ft:widget-label>
                                                            <ft:widget id="form"></ft:widget>
                                                            <ft:widget-label id="form-type"></ft:widget-label>
                                                            <ft:widget id="form-type"></ft:widget>
                                                            <ft:new id="common-authority-elements-class"></ft:new>
                                                            <ft:new id="common-linking-elements-class"></ft:new>
                                                            <ft:new id="common-language-elements-class"></ft:new>
                                                         </ft:context>
                                                         <div class="block">
                                                            <ft:repeater id="subLocations">
                                                               <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                                  <ft:repeater-rows>
                                                                     <div class="row subrepeater subLocations">
                                                                        <h6>
                                                                           <ft:widget-label id="../../subLocations"></ft:widget-label>
                                                                           <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                                        </h6>
                                                                        <ft:widget-label id="subLocation"></ft:widget-label>
                                                                        <ft:widget id="subLocation"></ft:widget>
                                                                        <ft:new id="common-language-elements-class"></ft:new>
                                                                        <ft:new id="common-controls-class"></ft:new>
                                                                     </div>
                                                                  </ft:repeater-rows>
                                                               </div>
                                                            </ft:repeater>
                                                            <jx:if test="${repeater.getSize() == 0}">
                                                               <ft:widget id="add-to-subLocations"></ft:widget>
                                                            </jx:if>
                                                         </div>
                                                         <div class="block">
                                                            <ft:repeater id="copyInformation-shelfLocators">
                                                               <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                                  <ft:repeater-rows>
                                                                     <div class="row subrepeater copyInformation-shelfLocators">
                                                                        <h6>
                                                                           <ft:widget-label id="../../copyInformation-shelfLocators"></ft:widget-label>
                                                                           <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                                        </h6>
                                                                        <ft:widget-label id="selfLocator"></ft:widget-label>
                                                                        <ft:widget id="selfLocator"></ft:widget>
                                                                        <ft:new id="common-language-elements-class"></ft:new>
                                                                        <ft:new id="common-controls-class"></ft:new>
                                                                     </div>
                                                                  </ft:repeater-rows>
                                                               </div>
                                                            </ft:repeater>
                                                            <jx:if test="${repeater.getSize() == 0}">
                                                               <ft:widget id="add-to-copyInformation-shelfLocators"></ft:widget>
                                                            </jx:if>
                                                         </div>
                                                         <div class="block">
                                                            <ft:repeater id="electronicLocators">
                                                               <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                                  <ft:repeater-rows>
                                                                     <div class="row subrepeater electronicLocators">
                                                                        <h6>
                                                                           <ft:widget-label id="../../electronicLocators"></ft:widget-label>
                                                                           <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                                        </h6>
                                                                        <ft:widget-label id="electronicLocator"></ft:widget-label>
                                                                        <ft:widget id="electronicLocator"></ft:widget>
                                                                        <ft:new id="common-controls-class"></ft:new>
                                                                     </div>
                                                                  </ft:repeater-rows>
                                                               </div>
                                                            </ft:repeater>
                                                            <jx:if test="${repeater.getSize() == 0}">
                                                               <ft:widget id="add-to-electronicLocators"></ft:widget>
                                                            </jx:if>
                                                         </div>
                                                         <div class="block">
                                                            <ft:repeater id="notes">
                                                               <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                                  <ft:repeater-rows>
                                                                     <div class="row subrepeater notes">
                                                                        <h6>
                                                                           <ft:widget-label id="../../notes"></ft:widget-label>
                                                                           <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                                        </h6>
                                                                        <ft:widget-label id="note"></ft:widget-label>
                                                                        <ft:widget id="note"></ft:widget>
                                                                        <ft:widget-label id="displayLabel"></ft:widget-label>
                                                                        <ft:widget id="displayLabel"></ft:widget>
                                                                        <ft:widget-label id="type"></ft:widget-label>
                                                                        <ft:widget id="type"></ft:widget>
                                                                        <ft:new id="common-linking-elements-class"></ft:new>
                                                                        <ft:new id="common-language-elements-class"></ft:new>
                                                                        <ft:new id="common-controls-class"></ft:new>
                                                                     </div>
                                                                  </ft:repeater-rows>
                                                               </div>
                                                            </ft:repeater>
                                                            <jx:if test="${repeater.getSize() == 0}">
                                                               <ft:widget id="add-to-notes"></ft:widget>
                                                            </jx:if>
                                                         </div>
                                                         <div class="block">
                                                            <ft:repeater id="enumerationAndChronologys">
                                                               <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                                  <ft:repeater-rows>
                                                                     <div class="row subrepeater enumerationAndChronologys">
                                                                        <h6>
                                                                           <ft:widget-label id="../../enumerationAndChronologys"></ft:widget-label>
                                                                           <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                                        </h6>
                                                                        <ft:widget-label id="enumerationAndChronology"></ft:widget-label>
                                                                        <ft:widget id="enumerationAndChronology"></ft:widget>
                                                                        <ft:widget-label id="unitType"></ft:widget-label>
                                                                        <ft:widget id="unitType"></ft:widget>
                                                                        <ft:new id="common-language-elements-class"></ft:new>
                                                                        <ft:new id="common-controls-class"></ft:new>
                                                                     </div>
                                                                  </ft:repeater-rows>
                                                               </div>
                                                            </ft:repeater>
                                                            <jx:if test="${repeater.getSize() == 0}">
                                                               <ft:widget id="add-to-enumerationAndChronologys"></ft:widget>
                                                            </jx:if>
                                                         </div>
                                                         <ft:new id="common-controls-class"></ft:new>
                                                      </div>
                                                   </ft:repeater-rows>
                                                </div>
                                             </ft:repeater>
                                             <jx:if test="${repeater.getSize() == 0}">
                                                <ft:widget id="add-to-copyInformations"></ft:widget>
                                             </jx:if>
                                          </div>
                                       </div>
                                    </ft:repeater-rows>
                                 </div>
                              </ft:repeater>
                           </div>
                        </ft:repeater-rows>
                     </div>
                     <ft:new id="common-language-elements-class"></ft:new>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-locations"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="accessCondition-class">
            <ft:repeater id="accessConditions">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../accessConditions"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel accessCondition">
                              <h5>
                                 <ft:widget-label id="../../accessConditions"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:widget-label id="type"></ft:widget-label>
                              <ft:widget id="type"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="displayLabel"></ft:widget-label>
                              <ft:widget id="displayLabel"></ft:widget>
                              <ft:widget-label id="altRepGroup"></ft:widget-label>
                              <ft:widget id="altRepGroup"></ft:widget>
                              <br />
                              <ft:widget-label id="value"></ft:widget-label>
                              <ft:widget id="value">
                                 <fi:styling size="80"></fi:styling>
                              </ft:widget>
                              <br />
                              <ft:widget-label id="xlink"></ft:widget-label>
                              <ft:widget id="xlink">
                                 <fi:styling size="50"></fi:styling>
                              </ft:widget>
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-accessConditions"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="recordInfo-class">
            <ft:repeater id="recordInfos">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../recordInfos"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel recordInfo">
                              <h5>
                                 <ft:widget-label id="../../recordInfos"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <!-- recordcontentsources repeater -->
                              <div class="block">
                                 <ft:repeater id="recordContentSources">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater recordInfo-recordContentSource">
                                             <h6>
                                                <ft:widget-label id="../../recordContentSources"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:widget id="value">
                                                <fi:styling size="15"></fi:styling>
                                             </ft:widget>
                                             <ft:new id="common-authority-elements-class"></ft:new>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-recordContentSources"></ft:widget>
                                    </jx:if>
                                 </ft:repeater>
                              </div>
                              <!-- end of recordcontentsources repeater -->
                              <!-- recordCreationDate repeater -->
                              <div class="block">
                                 <ft:repeater id="recordCreationDates">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater recordInfo-recordCreationDate">
                                             <h6>
                                                <ft:widget-label id="../../recordCreationDates"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:new id="common-subject-date-elements-class"></ft:new>
                                             <ft:new id="common-date-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="../add-to-recordCreationDates"></ft:widget>
                                    </jx:if>
                                 </ft:repeater>
                              </div>
                              <!-- end of recordCreationDate repeater -->
                              <!--  recordChangeDate repeater -->
                              <div class="block">
                                 <ft:repeater id="recordChangeDates">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater recordInfo-recordChangeDate">
                                             <h6>
                                                <ft:widget-label id="../../recordChangeDates"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:new id="common-subject-date-elements-class"></ft:new>
                                             <ft:new id="common-date-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                 </ft:repeater>
                                 <jx:if test="${repeater.getSize() == 0}">
                                    <ft:widget id="add-to-recordChangeDates"></ft:widget>
                                 </jx:if>
                              </div>
                              <!--  end of recordChangeDate repeater -->
                              <!-- recordIdentifier repeater -->
                              <div class="block">
                                 <ft:repeater id="recordIdentifiers">
                                    <div class="block empty-repeater-${repeater.getSize() == 0}">
                                       <ft:repeater-rows>
                                          <div class="row subrepeater recordInfo-recordIdentifier">
                                             <h6>
                                                <ft:widget-label id="../../recordIdentifiers"></ft:widget-label>
                                                <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                             </h6>
                                             <ft:widget id="recordIdentifiers_recordIdentifier">
                                                <!--<fi:styling readonly="readonly" size="30"/>-->
                                                <!-- 2012-05-31 removed readonly constraint, to allow recordIdentifiers 
															        in related items to be changed - pbinkley -->
                                                <fi:styling size="30"></fi:styling>
                                             </ft:widget>
                                             <jx:out value="${divider}"></jx:out>
                                             <ft:widget-label id="recordIdentifiers_recordIdentifierSource"></ft:widget-label>
                                             <ft:widget id="recordIdentifiers_recordIdentifierSource"></ft:widget>
                                             <ft:new id="common-language-elements-class"></ft:new>
                                             <ft:new id="common-controls-class"></ft:new>
                                          </div>
                                       </ft:repeater-rows>
                                    </div>
                                 </ft:repeater>
                                 <jx:if test="${repeater.getSize() == 0}">
                                    <ft:widget id="add-to-recordIdentifiers"></ft:widget>
                                 </jx:if>
                                 <div class="block">
                                    <ft:repeater id="recordOrigins">
                                       <div class="block empty-repeater-${repeater.getSize() == 0}">
                                          <ft:repeater-rows>
                                             <div class="row subrepeater recordOrigins">
                                                <h6>
                                                   <ft:widget-label id="../../recordOrigins"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h6>
                                                <ft:widget id="value"></ft:widget>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                                <ft:new id="common-controls-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </ft:repeater>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="add-to-recordOrigins"></ft:widget>
                                    </jx:if>
                                    <ft:new id="common-controls-class"></ft:new>
                                 </div>
                                 <div class="block">
                                    <ft:repeater id="languageOfCatalogings">
                                       <div class="block empty-repeater-${repeater.getSize() == 0}">
                                          <ft:repeater-rows>
                                             <div class="row subrepeater languageOfCatalogings">
                                                <h6>
                                                   <ft:widget-label id="../../languageOfCatalogings"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h6>
                                                <ft:widget-label id="objectPart"></ft:widget-label>
                                                <ft:widget id="objectPart"></ft:widget>
                                                <ft:widget-label id="altRepGroup"></ft:widget-label>
                                                <ft:widget id="altRepGroup"></ft:widget>
                                                <ft:widget-label id="usage"></ft:widget-label>
                                                <ft:widget id="usage"></ft:widget>
                                                <ft:widget-label id="displayLabel"></ft:widget-label>
                                                <ft:widget id="displayLabel"></ft:widget>
                                                <div class="block">
                                                   <ft:repeater id="languageOfCatalogings_languageTerms">
                                                      <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                         <ft:repeater-rows>
                                                            <div class="row subrepeater languageOfCatalogings_languageTerms">
                                                               <h6>
                                                                  <ft:widget-label id="../../languageOfCatalogings_languageTerms"></ft:widget-label>
                                                                  <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                               </h6>
                                                               <ft:widget-label id="languageTerm"></ft:widget-label>
                                                               <ft:widget id="languageTerm"></ft:widget>
                                                               <ft:widget-label id="modsID"></ft:widget-label>
                                                               <ft:widget id="modsID"></ft:widget>
                                                               <ft:new id="common-termType-elements-class"></ft:new>
                                                               <ft:new id="common-languageAuthority-elements-class"></ft:new>
                                                               <ft:new id="common-language-elements-class"></ft:new>
                                                            </div>
                                                         </ft:repeater-rows>
                                                      </div>
                                                   </ft:repeater>
                                                   <jx:if test="${repeater.getSize() == 0}">
                                                      <ft:widget id="add-to-languageOfCatalogings_languageTerms"></ft:widget>
                                                   </jx:if>
                                                   <ft:new id="common-controls-class"></ft:new>
                                                </div>
                                                <div class="block">
                                                   <ft:repeater id="languageOfCatalogings_scriptTerms">
                                                      <div class="block empty-repeater-${repeater.getSize() == 0}">
                                                         <ft:repeater-rows>
                                                            <div class="row subrepeater languageOfCatalogings_scriptTerms">
                                                               <h6>
                                                                  <ft:widget-label id="../../languageOfCatalogings_scriptTerms"></ft:widget-label>
                                                                  <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                               </h6>
                                                               <ft:widget-label id="scriptTerm"></ft:widget-label>
                                                               <ft:widget id="scriptTerm"></ft:widget>
                                                               <ft:new id="common-termType-elements-class"></ft:new>
                                                               <ft:new id="common-languageAuthority-elements-class"></ft:new>
                                                               <ft:new id="common-language-elements-class"></ft:new>
                                                            </div>
                                                         </ft:repeater-rows>
                                                      </div>
                                                   </ft:repeater>
                                                   <jx:if test="${repeater.getSize() == 0}">
                                                      <ft:widget id="add-to-languageOfCatalogings_scriptTerms"></ft:widget>
                                                   </jx:if>
                                                   <ft:new id="common-controls-class"></ft:new>
                                                </div>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </ft:repeater>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="add-to-languageOfCatalogings"></ft:widget>
                                    </jx:if>
                                    <ft:new id="common-controls-class"></ft:new>
                                 </div>
                                 <div class="block">
                                    <ft:repeater id="descriptionStandards">
                                       <div class="block empty-repeater-${repeater.getSize() == 0}">
                                          <ft:repeater-rows>
                                             <div class="row subrepeater descriptionStandards">
                                                <h6>
                                                   <ft:widget-label id="../../descriptionStandards"></ft:widget-label>
                                                   <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                                </h6>
                                                <ft:widget-label id="descriptionStandards_descriptionStandard"></ft:widget-label>
                                                <ft:widget id="descriptionStandards_descriptionStandard"></ft:widget>
                                                <ft:new id="common-authority-elements-class"></ft:new>
                                                <ft:new id="common-language-elements-class"></ft:new>
                                             </div>
                                          </ft:repeater-rows>
                                       </div>
                                    </ft:repeater>
                                    <jx:if test="${repeater.getSize() == 0}">
                                       <ft:widget id="add-to-descriptionStandards"></ft:widget>
                                    </jx:if>
                                    <ft:new id="common-controls-class"></ft:new>
                                 </div>
                                 <ft:widget-label id="lastModifiedBy"></ft:widget-label>
                                 <ft:widget id="lastModifiedBy"></ft:widget>
                                 <ft:widget-label id="lastModified"></ft:widget-label>
                                 <ft:widget id="lastModified"></ft:widget>
                                 <ft:widget-label id="displayLabel"></ft:widget-label>
                                 <ft:widget id="displayLabel"></ft:widget>
                                 <ft:widget-label id="altRepGroup"></ft:widget-label>
                                 <ft:widget id="altRepGroup"></ft:widget>
                              </div>
                              <!-- recordIdentifier repeater -->
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-recordInfos"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="relatedItem-class">
            <ft:repeater id="relatedItems">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../relatedItems"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel relatedItem">
                              <h5>
                                 <ft:widget-label id="../../relatedItems"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:new id="common-linking-elements-class"></ft:new>
                              <ft:widget-label id="type"></ft:widget-label>
                              <ft:widget id="type"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="displayLabel"></ft:widget-label>
                              <ft:widget id="displayLabel"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <!--										<ft:widget-label id="relatedItem_ID"/>
										<ft:widget id="relatedItem_ID">
											<fi:styling size="8"/>
										</ft:widget>-->
                              <br />
                              <br />
                              <!--<ft:new id="part-class"/>-->
                              <ft:new id="titleInfo-class"></ft:new>
                              <ft:new id="name-class"></ft:new>
                              <ft:new id="typeOfResource-class"></ft:new>
                              <ft:new id="genre-class"></ft:new>
                              <ft:new id="originInfo-class"></ft:new>
                              <ft:new id="language-class"></ft:new>
                              <ft:new id="physicalDescription-class"></ft:new>
                              <ft:new id="abstract-class"></ft:new>
                              <ft:new id="tableOfContents-class"></ft:new>
                              <ft:new id="targetAudience-class"></ft:new>
                              <ft:new id="note-class"></ft:new>
                              <ft:new id="subject-class"></ft:new>
                              <ft:new id="classification-class"></ft:new>
                              <ft:new id="part-class"></ft:new>
                              <ft:new id="xidentifier-class"></ft:new>
                              <ft:new id="location-class"></ft:new>
                              <ft:new id="accessCondition-class"></ft:new>
                              <ft:new id="sub-relatedItem-class"></ft:new>
                              <ft:new id="recordInfo-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-relatedItems"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <ft:class id="sub-relatedItem-class">
            <ft:repeater id="relatedItems">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../relatedItems"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel relatedItem">
                              <h5>
                                 <ft:widget-label id="../../relatedItems"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:new id="common-linking-elements-class"></ft:new>
                              <ft:widget-label id="type"></ft:widget-label>
                              <ft:widget id="type"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="displayLabel"></ft:widget-label>
                              <ft:widget id="displayLabel"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <!--										<ft:widget-label id="relatedItem_ID"/>
										<ft:widget id="relatedItem_ID">
											<fi:styling size="8"/>
										</ft:widget>-->
                              <br />
                              <br />
                              <!--<ft:new id="part-class"/>-->
                              <ft:new id="titleInfo-class"></ft:new>
                              <ft:new id="name-class"></ft:new>
                              <ft:new id="typeOfResource-class"></ft:new>
                              <ft:new id="genre-class"></ft:new>
                              <ft:new id="originInfo-class"></ft:new>
                              <ft:new id="language-class"></ft:new>
                              <ft:new id="physicalDescription-class"></ft:new>
                              <ft:new id="abstract-class"></ft:new>
                              <ft:new id="tableOfContents-class"></ft:new>
                              <ft:new id="targetAudience-class"></ft:new>
                              <ft:new id="note-class"></ft:new>
                              <ft:new id="subject-class"></ft:new>
                              <ft:new id="classification-class"></ft:new>
                              <ft:new id="part-class"></ft:new>
                              <ft:new id="xidentifier-class"></ft:new>
                              <ft:new id="location-class"></ft:new>
                              <ft:new id="accessCondition-class"></ft:new>
                              <ft:new id="recordInfo-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-relatedItems"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- START PATCH -->
         <ft:class id="relatedItemConstituent-class">
            <ft:repeater id="relatedItemConstituents">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../relatedItemConstituents"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel relatedItem">
                              <h5>
                                 <ft:widget-label id="../../relatedItemConstituents"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <ft:new id="common-linking-elements-class"></ft:new>
                              <ft:widget-label id="type"></ft:widget-label>
                              <ft:widget id="type"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <ft:widget-label id="displayLabel"></ft:widget-label>
                              <ft:widget id="displayLabel"></ft:widget>
                              <jx:out value="${divider}"></jx:out>
                              <!--										<ft:widget-label id="relatedItem_ID"/>
											<ft:widget id="relatedItem_ID">
											<fi:styling size="8"/>
											</ft:widget>-->
                              <br />
                              <br />
                              <!--<ft:new id="part-class"/>-->
                              <ft:new id="titleInfo-class"></ft:new>
                              <ft:new id="name-class"></ft:new>
                              <ft:new id="typeOfResource-class"></ft:new>
                              <ft:new id="genre-class"></ft:new>
                              <ft:new id="originInfo-class"></ft:new>
                              <ft:new id="language-class"></ft:new>
                              <ft:new id="physicalDescription-class"></ft:new>
                              <ft:new id="abstract-class"></ft:new>
                              <ft:new id="tableOfContents-class"></ft:new>
                              <ft:new id="targetAudience-class"></ft:new>
                              <ft:new id="note-class"></ft:new>
                              <ft:new id="subject-class"></ft:new>
                              <ft:new id="classification-class"></ft:new>
                              <ft:new id="part-class"></ft:new>
                              <ft:new id="xidentifier-class"></ft:new>
                              <ft:new id="location-class"></ft:new>
                              <ft:new id="accessCondition-class"></ft:new>
                              <ft:new id="sub-relatedItem-class"></ft:new>
                              <ft:new id="recordInfo-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-relatedItemConstituents"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>

         <!-- END PATCH -->


         <ft:class id="part-class">
            <ft:repeater id="parts">
               <div class="block empty-block-${repeater.getSize() == 0}">
                  <h4>
                     <ft:widget-label id="../parts"></ft:widget-label>
                  </h4>
                  <jx:if test="${repeater.getSize() &gt; 0}">
                     <div class="repeater">
                        <ft:repeater-rows>
                           <div class="row toplevel part">
                              <h5>
                                 <ft:widget-label id="../../parts"></ft:widget-label>
                                 <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                              </h5>
                              <!-- details repeater -->
                              <ft:repeater id="details">
                                 <div class="block empty-repeater-${repeater.getSize() == 0}">
                                    <ft:repeater-rows>
                                       <div class="row subrepeater relatedItem-part-detail">
                                          <h6>
                                             <ft:widget-label id="../../details"></ft:widget-label>
                                             <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                          </h6>
                                          <ft:widget-label id="details_type"></ft:widget-label>
                                          <ft:widget id="details_type"></ft:widget>
                                          <jx:out value="${divider}"></jx:out>
                                          <ft:widget-label id="details_number"></ft:widget-label>
                                          <ft:widget id="details_number"></ft:widget>
                                          <jx:out value="${divider}"></jx:out>
                                          <ft:widget-label id="details_caption"></ft:widget-label>
                                          <ft:widget id="details_caption"></ft:widget>
                                          <jx:out value="${divider}"></jx:out>
                                          <ft:widget-label id="details_title"></ft:widget-label>
                                          <ft:widget id="details_title"></ft:widget>
                                          <ft:new id="common-controls-class"></ft:new>
                                       </div>
                                    </ft:repeater-rows>
                                 </div>
                              </ft:repeater>
                              <jx:if test="${repeater.getSize() == 0}">
                                 <ft:widget id="add-to-details"></ft:widget>
                              </jx:if>
                              <!-- end of details repeater -->
                              <div class="block">
                                 <h6>extent</h6>
                                 <ft:widget-label id="extent-start"></ft:widget-label>
                                 <ft:widget id="extent-start"></ft:widget>
                                 <jx:out value="${divider}"></jx:out>
                                 <ft:widget-label id="extent-end"></ft:widget-label>
                                 <ft:widget id="extent-end"></ft:widget>
                                 <jx:out value="${divider}"></jx:out>
                                 <ft:widget-label id="extent-total"></ft:widget-label>
                                 <ft:widget id="extent-total"></ft:widget>
                                 <jx:out value="${divider}"></jx:out>
                                 <ft:widget-label id="extent-list"></ft:widget-label>
                                 <ft:widget id="extent-list"></ft:widget>
                                 <jx:out value="${divider}"></jx:out>
                                 <ft:widget-label id="extent-unit"></ft:widget-label>
                                 <ft:widget id="extent-unit"></ft:widget>
                              </div>
                              <!-- dates repeater -->
                              <ft:repeater id="dates">
                                 <div class="block empty-repeater-${repeater.getSize() == 0}">
                                    <ft:repeater-rows>
                                       <div class="row subrepeater relatedItem-part-date">
                                          <h6>
                                             <ft:widget-label id="../../dates"></ft:widget-label>
                                             <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                          </h6>
                                          <ft:new id="common-subject-date-elements-class"></ft:new>
                                          <ft:new id="common-date-elements-class"></ft:new>
                                          <ft:new id="common-controls-class"></ft:new>
                                       </div>
                                    </ft:repeater-rows>
                                 </div>
                              </ft:repeater>
                              <jx:if test="${repeater.getSize() == 0}">
                                 <ft:widget id="add-to-dates"></ft:widget>
                              </jx:if>
                              <!-- end of dates repeater -->
                              <!-- texts repeater -->
                              <ft:repeater id="texts">
                                 <div class="block empty-repeater-${repeater.getSize() == 0}">
                                    <ft:repeater-rows>
                                       <div class="row subrepeater relatedItem-part-text">
                                          <h6>
                                             <ft:widget-label id="../../texts"></ft:widget-label>
                                             <jx:out value="${repeaterLoop.index + 1}"></jx:out>
                                          </h6>
                                          <ft:new id="common-textfield-class"></ft:new>
                                          <ft:new id="common-controls-class"></ft:new>
                                       </div>
                                    </ft:repeater-rows>
                                 </div>
                              </ft:repeater>
                              <jx:if test="${repeater.getSize() == 0}">
                                 <ft:widget id="add-to-texts"></ft:widget>
                              </jx:if>
                              <!-- end of texts repeater -->
                              <ft:new id="common-language-elements-class"></ft:new>
                              <ft:new id="common-linking-elements-class"></ft:new>
                              <ft:new id="common-controls-class"></ft:new>
                           </div>
                        </ft:repeater-rows>
                     </div>
                  </jx:if>
                  <jx:if test="${repeater.getSize() == 0}">
                     <ft:widget id="../add-to-parts"></ft:widget>
                  </jx:if>
               </div>
            </ft:repeater>
         </ft:class>
         <!-- *************************************************************
				Widgets
			***************************************************************** -->
         <div class="header">
            <h2>Record <ft:widget id="id"></ft:widget>
            </h2>
         </div>
         <!-- all ajax requests must include the localizer, so put it here -->
         <input type="hidden" name="localizer" value="${cocoon.request.getParameter('localizer')}" />
         <!-- group with tabs. Each of the children of <items> will constitute a tab -->
         <fi:group>
            <fi:styling type="tabs"></fi:styling>
            <fi:label>Choose a panel: </fi:label>
            <fi:state>
               <ft:widget id="tab-state"></ft:widget>
            </fi:state>
            <fi:items>
               <!-- **********************************************************************
						mods:titleInfo
					***************************************************************************-->
               <fi:group id="titleInfo-group">
                  <fi:label>
                     <countdiv name="titleInfos"></countdiv>Title</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="titleInfo-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						mods:name
					***************************************************************************-->
               <fi:group id="name-group">
                  <fi:label>
                     <countdiv name="names"></countdiv>Author</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="name-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						mods:typeOfResource
					***************************************************************************-->
               <fi:group id="typeOfResource-group">
                  <fi:label>
                     <countdiv name="typeOfResources"></countdiv>Type</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="typeOfResource-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						genre
					***************************************************************************-->
               <fi:group id="genre-group">
                  <fi:label>
                     <countdiv name="genres"></countdiv>Genre</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="genre-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						originInfo
					***************************************************************************-->
               <fi:group id="originInfo-group">
                  <fi:label>
                     <countdiv name="originInfos"></countdiv>Origin</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="originInfo-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						languages
					***************************************************************************-->
               <fi:group id="language-group">
                  <fi:label>
                     <countdiv name="languages"></countdiv>Language</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="language-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						physicalDescription
					********************************************************-->
               <fi:group id="physicalDescription-group">
                  <fi:label>
                     <countdiv name="physicalDescriptions"></countdiv>Physical</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="physicalDescription-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:abstract
					********************************************************-->
               <fi:group id="abstract-group">
                  <fi:label>
                     <countdiv name="abstracts"></countdiv>Abstract</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="abstract-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:tableOfContents
					********************************************************-->
               <fi:group id="tableOfContents-group">
                  <fi:label>
                     <countdiv name="tableOfContentss"></countdiv>TOC</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="tableOfContents-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:targetAudience
					********************************************************-->
               <fi:group id="targetAudience-group">
                  <fi:label>
                     <countdiv name="targetAudiences"></countdiv>Audience</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="targetAudience-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:note
					********************************************************-->
               <fi:group id="note-group">
                  <fi:label>
                     <countdiv name="notes"></countdiv>Note</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="note-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ************************************************
						mods:subject
					***************************************************-->
               <fi:group id="subject-group">
                  <fi:label>
                     <countdiv name="subjects"></countdiv>Subject</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="subject-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						classification
					***************************************************************************-->
               <fi:group id="classification-group">
                  <fi:label>
                     <countdiv name="classifications"></countdiv>Classification</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="classification-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- **********************************************************************
						part
					***************************************************************************-->
               <fi:group id="part-group">
                  <fi:label>
                     <countdiv name="parts"></countdiv>Part</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="part-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:identifier
					********************************************************-->
               <fi:group id="xidentifier-group">
                  <fi:label>
                     <countdiv name="xidentifiers"></countdiv>Identifier</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="xidentifier-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:location
					********************************************************-->
               <fi:group id="location-group">
                  <fi:label>
                     <countdiv name="locations"></countdiv>Location</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="location-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:accessCondition
					********************************************************-->
               <fi:group id="accessCondition-group">
                  <fi:label>
                     <countdiv name="accessConditions"></countdiv>Access</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="accessCondition-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- ****************************************************
						mods:relatedItem
					********************************************************-->
               <fi:group id="relatedItem-group">
                  <fi:label>
                     <countdiv name="relatedItems"></countdiv>Related</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="relatedItem-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- START PATCH -->
               <!-- ****************************************************
						mods:relatedItemConstituent
						********************************************************-->
               <fi:group id="relatedItemConstituent-group">
                  <fi:label>
                     <countdiv name="relatedItemConstituents"></countdiv>Related (const)</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="relatedItemConstituent-class"></ft:new>
                  </fi:items>
               </fi:group>
               <!-- END PATCH -->



               <!-- ****************************************************
						mods:recordInfo
					********************************************************-->
               <fi:group id="recordInfo-group">
                  <fi:label>
                     <countdiv name="recordInfos"></countdiv>Record</fi:label>
                  <fi:styling layout="columns"></fi:styling>
                  <fi:items>
                     <ft:new id="recordInfo-class"></ft:new>
                  </fi:items>
               </fi:group>
            </fi:items>
         </fi:group>
         <!-- ************************************************
			Submit button
		***************************************************-->
         <div class="datacontainer">
            <div class="submit">
               <ft:widget id="success"></ft:widget>
            </div>
         </div>
      </ft:form-template>
   </body>
</html>
